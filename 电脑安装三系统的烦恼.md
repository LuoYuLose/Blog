---
title: 电脑安装三系统的烦恼
date: 2024-05-19
tags:
categories:
    - 小记录
summary: 记录一下自己使用三系统出现的问题。
---

本文聊一聊在自己的电脑上使用三系统时出现的问题。

## 电脑三系统介绍

自己的电脑总共有三个系统：
> ArchLinux
>
> Windows10
>
> Windows11

虽说有闲的没事乱搞的成分，但每个系统也确实在用，不存在浪费硬盘的情况。
不过自己在使用这些系统时确实遇到过不少问题。下面列举一下一些很影响体验的问题吧（可能会长期更新）。

## 开机启动慢

这一点不是硬件的问题。自己在用三系统时，最吃时间的其实是引导。

Linux和Windows之间的引导可以用Grub来实现。但Windows之间的引导只能利用msconfig来实现。

而msconfig...有一个致命的缺点会大大延长开机时间——当你开机默认系统为Win10，而你想进入Win11时，你需要先开机在msconfig选择Win11后重启电脑后再进入Win11系统。

（就和COD大厅一样，想玩另一个版本必须先启动选择版本再退出再进入想玩的版本。不过Windows不需要像COD大厅那样等半天）

## 系统时间错乱

双系统的时间管理很容易（其实也不算容易），一般都是跟着ArchWiki走。不过三系统的时间...

我这里的解决方法是给Win10和Win11都打上如下的注册表(CMD运行)，使得Windows时钟为UTC时间：

```Powershell
reg add "HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\TimeZoneInformation" /v RealTimeIsUniversal /d 1 /t REG_DWORD /f
```

Linux下则运行如下指令，将时间设置为UTC：

```bash
timedatectl set-local-rtc 0
```

时间不同步的问题还是很大的。如果时区不同步那么部分网页可能会被阻挡，同时火狐这类浏览器也会要求你更改系统时间。虽然不知道修改时间对浏览网页的影响不过还是建议照做吧。

## 软件权限出问题

说的其实是JetBrains产品。一开始我打算在一块独立硬盘上安装需要的JetBrains工具，这样几个系统就都可以用到JetBrains工具了。

实际操作下来发现JetBrains产品只允许安装这些产品的OS访问，其他系统会被拒绝。

为了解决这个问题我也试过用"Everyone"权限替换用户权限，结果产品的权限无法修改，还是只允许安装这些软件的OS访问。

这点问题自己并没有解决，不过是自己不想解决了。我是在Win10上安装的JetBrains全家桶，本打算在Win11上使用这些，避免二次安装，不过如上所说：

> Win10切换到Win11需要大量的开机时间。
>
> Win11这个系统本身已经够吃内存了。
